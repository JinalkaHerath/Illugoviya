                <div class="price-card" style="background: white; padding: 20px; border-radius: 15px; border-left: 6px solid #9C27B0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: bold; color: #7B1FA2; font-size: 18px;">Onions (Big)</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Peliyagoda Market</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 28px; font-weight: bold; color: #7B1FA2;">Rs. 180</div>
                            <div style="font-size: 14px; color: #4CAF50; font-weight: bold;">тЖЧ +2.7%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Farming Tips Section -->
        <div id="tips-section" class="section" style="display: none;">
            <h3 id="tips-title">ЁЯТб Smart Farming Tips</h3>
            
            <div class="tips-grid">
                
                <div class="tips-category">
                    <h4 style="color: #2E7D32; margin-bottom: 15px; font-size: 20px;" id="weather-tips">ЁЯМдя╕П Weather-Based Tips</h4>
                    <div class="tip-card" style="border-left-color: #2196F3;">
                        <div style="font-weight: bold; margin-bottom: 10px; font-size: 16px;" id="tip1-title">High Humidity Alert</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.5;" id="tip1-content">Current humidity is 75%. Increase ventilation for tomato crops and watch for fungal diseases. Apply organic fungicides if needed.</div>
                    </div>
                    <div class="tip-card" style="border-left-color: #FF9800;">
                        <div style="font-weight: bold; margin-bottom: 10px; font-size: 16px;" id="tip2-title">Rainfall Preparation</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.5;" id="tip2-content">5mm rainfall expected today. Ensure proper drainage in rice fields. Cover sensitive vegetables if heavy rain predicted.</div>
                    </div>
                </div>

                <div class="tips-category">
                    <h4 style="color: #2E7D32; margin-bottom: 15px; font-size: 20px;" id="seasonal-tips">ЁЯМ╛ Seasonal Farming Tips</h4>
                    <div class="tip-card" style="border-left-color: #4CAF50;">
                        <div style="font-weight: bold; margin-bottom: 10px; font-size: 16px;" id="tip3-title">Maha Season Focus</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.5;" id="tip3-content">Perfect time for rice cultivation. Ensure seedbeds are ready. Use organic matter to improve soil fertility. Plan irrigation systems.</div>
                    </div>
                    
                    <div class="tip-card" style="border-left-color: #795548;">
                        <div style="font-weight: bold; margin-bottom: 10px; font-size: 16px;" id="tip4-title">Red Earth Soil Care</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.5;" id="tip4-content">Your red earth soil needs organic matter. Add compost or well-rotted manure. Test pH levels - aim for 6.0-7.0 for most crops.</div>
                    </div>
                </div>

                <div class="tips-category">
                    <h4 style="color: #2E7D32; margin-bottom: 15px; font-size: 20px;" id="soil-tips">ЁЯМ▒ Soil Management</h4>
                    <div class="tip-card" style="border-left-color: #607D8B;">
                        <div style="font-weight: bold; margin-bottom: 10px; font-size: 16px;" id="tip5-title">Water Management</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.5;" id="tip5-content">Install drip irrigation for vegetables. Mulch around plants to retain moisture. Check soil moisture 2-3 inches deep before watering.</div>
                    </div>
                </div>
                
            </div>
        </div>
        
        </div>
    </div>

    <script>
        const translations = {
            en: {
                tagline: "Smart Crop Recommendations for Sri Lankan Farmers",
                locationTitle: "ЁЯУН Your Location",
                weatherTitle: "ЁЯМдя╕П Current Weather Conditions",
                tempLabel: "Temperature",
                humidityLabel: "Humidity",
                rainfallLabel: "Expected Rainfall",
                windLabel: "Wind Speed",
                seasonText: "ЁЯМ╛ Maha Season (October - March)",
                soilTitle: "ЁЯМ▒ Soil Information",
                soilLabel: "Soil Type:",
                farmSizeLabel: "Farm Size (acres):",
                alertTitle: "ЁЯТб Smart Recommendations:",
                alertText: "Get customized crop suggestions based on your province's climate AND your specific soil type. Change location or soil type to see different recommendations!",
                analyzeBtn: "ЁЯФН Get Crop Recommendations",
                loadingText: "Analyzing soil, weather, and seasonal data...",
                recTitle: "ЁЯМ╛ Smart Crop Recommendations",
                tabCrops: "ЁЯМ╛ Crops",
                tabCalendar: "ЁЯУЕ Calendar", 
                tabMarket: "ЁЯУК Prices",
                tabTips: "ЁЯТб Tips",
                calendarTitle: "ЁЯУЕ Planting Calendar",
                marketTitle: "ЁЯУК Live Market Prices",
                tipsTitle: "ЁЯТб Smart Farming Tips",
                plantingSchedule: "ЁЯМ▒ Optimal Planting Schedule",
                lastUpdated: "Last Updated: 2 hours ago",
                weatherTips: "ЁЯМдя╕П Weather-Based Tips",
                seasonalTips: "ЁЯМ╛ Seasonal Farming Tips", 
                soilTips: "ЁЯМ▒ Soil Management",
                tip1Title: "High Humidity Alert",
                tip2Title: "Rainfall Preparation",
                tip3Title: "Maha Season Focus",
                tip4Title: "Red Earth Soil Care",
                tip5Title: "Water Management"
            },
            si: {
                tagline: "р╖Бр╖КтАНр╢╗р╖У р╢╜р╢Вр╢Ър╖Пр╖Ар╖Ъ р╢Ьр╖Ьр╖Ар╖Тр╢║р╢▒р╖К р╖Гр╢│р╖Др╖П р╢пр╢Ър╖Кр╖В р╢╢р╖Эр╢Ь р╢▒р╖Тр╢╗р╖Кр╢пр╖Ър╖Б",
                locationTitle: "ЁЯУН р╢Фр╢╢р╖Ъ р╖Гр╖Кр╢ор╖Пр╢▒р╢║",
                weatherTitle: "ЁЯМдя╕П р╖Ар╢╗р╖Кр╢нр╢╕р╖Пр╢▒ р╢Ър╖Пр╢╜р╢Ьр╖Фр╢лр╖Тр╢Ъ р╢нр╢нр╖Кр╢нр╖Кр╖Ар╢║",
                tempLabel: "р╢Лр╖Вр╖Кр╢лр╢нр╖Кр╖Ар╢║",
                humidityLabel: "р╢Жр╢╗р╖Кр╢пр╖КтАНр╢╗р╢нр╖Пр╖А",
                rainfallLabel: "р╢Ер╢┤р╖Ър╢Ър╖КтАНр╖Вр╖Тр╢н р╖Ар╢╗р╖КтАНр╖Вр╖Пр╖А",
                windLabel: "р╖Гр╖Фр╖Ер╢В р╖Ар╖Ър╢Ьр╢║",
                seasonText: "ЁЯМ╛ р╢╕р╖Д р╢Ър╢▒р╖Кр╢▒р╢║ (р╢Фр╢Ър╖Кр╢нр╖Эр╢╢р╢╗р╖К - р╢╕р╖Пр╢╗р╖Кр╢нр╖Ф)",
                soilTitle: "ЁЯМ▒ р╢┤р╖Гр╖К р╢нр╖Ьр╢╗р╢нр╖Фр╢╗р╖Ф",
                soilLabel: "р╢┤р╖Гр╖К р╖Ар╢╗р╖Кр╢Ьр╢║:",
                farmSizeLabel: "р╢Ьр╖Ьр╖Ар╖Тр╢нр╖Рр╢▒р╖К р╢┤р╖КтАНр╢╗р╢╕р╖Пр╢лр╢║ (р╢Ер╢Ър╖Кр╢Ър╢╗):",
                alertTitle: "ЁЯТб р╖Гр╖Цр╢нр╖Тр╢╕р╢║ р╢Лр╢┤р╢пр╖Ър╖Гр╖К:",
                alertText: "р╢╕р╖Д р╢Ър╢▒р╖Кр╢▒р╢║ р╖Гр╖Др╢╜р╖К р╖Ар╢Ьр╖Пр╖А р╖Гр╢│р╖Др╖П р╖Гр╖Фр╢пр╖Фр╖Гр╖Фр╢║р╖Т. р╢вр╢╜ р╢╜р╢╢р╖П р╢Ьр╖Рр╢▒р╖Ур╢╕ р╖Гр╖Д р╢вр╢╜ р╢╢р╖Рр╖Др╖Рр╢╗ р╢Ър╖Тр╢╗р╖Ур╢╕р╖Ъ р╢┤р╢пр╖Кр╢░р╢нр╖Т р╢Ьр╖Рр╢▒ р╖Гр╢╜р╢Ър╢▒р╖К р╢╢р╢╜р╢▒р╖Кр╢▒.",
                analyzeBtn: "ЁЯФН р╢╢р╖Эр╢Ь р╢▒р╖Тр╢╗р╖Кр╢пр╖Ър╖Б р╢╜р╢╢р╖П р╢Ьр╢▒р╖Кр╢▒",
                loadingText: "р╢┤р╖Гр╖К, р╢Ър╖Пр╢╜р╢Ьр╖Фр╢лр╢║ р╖Гр╖Д р╖Гр╖Шр╢нр╖Фр╢╕р╢║ р╢пр╢нр╖Кр╢н р╖Ар╖Тр╖Бр╖Кр╢╜р╖Ър╖Вр╢л р╢Ър╢╗р╢╕р╖Тр╢▒р╖К...",
                recTitle: "ЁЯМ╛ р╢Фр╢╢р╖Ъ р╢Ьр╖Ьр╖Ар╖Тр╢┤р╢╜р╢з р╢▒р╖Тр╢╗р╖Кр╢пр╖Ър╖Бр╖Тр╢н р╢╢р╖Эр╢Ь"
            },
            ta: {
                tagline: "роЗро▓роЩрпНроХрпИ ро╡ро┐ро╡роЪро╛ропро┐роХро│рпБроХрпНроХро╛рой рокрпБродрпНродро┐роЪро╛ро▓ро┐родрпНродройрооро╛рой рокропро┐ро░рпН рокро░ро┐роирпНродрпБро░рпИроХро│рпН",
                locationTitle: "ЁЯУН роЙроЩрпНроХро│рпН роЗро░рпБрокрпНрокро┐роЯроорпН",
                weatherTitle: "ЁЯМдя╕П родро▒рпНрокрпЛродрпИроп ро╡ро╛ройро┐ро▓рпИ роиро┐ро▓рпИроорпИроХро│рпН",
                tempLabel: "ро╡рпЖрокрпНрокроиро┐ро▓рпИ",
                humidityLabel: "роИро░рокрпНрокродроорпН",
                rainfallLabel: "роОродро┐ро░рпНрокро╛ро░рпНроХрпНроХрокрпНрокроЯрпБроорпН рооро┤рпИ",
                windLabel: "роХро╛ро▒рпНро▒ро┐ройрпН ро╡рпЗроХроорпН",
                seasonText: "ЁЯМ╛ рооро╣ро╛ рокро░рпБро╡роорпН (роЕроХрпНроЯрпЛрокро░рпН - рооро╛ро░рпНроЪрпН)",
                soilTitle: "ЁЯМ▒ роорогрпН родроХро╡ро▓рпН",
                soilLabel: "роорогрпН ро╡роХрпИ:",
                farmSizeLabel: "рокрогрпНрогрпИ роЕро│ро╡рпБ (роПроХрпНроХро░рпН):",
                alertTitle: "ЁЯТб рокро░рпБро╡роХро╛ро▓ роЙродро╡ро┐роХрпНроХрпБро▒ро┐рокрпНрокрпБ:",
                alertText: "рооро╣ро╛ рокро░рпБро╡роорпН роирпЖро▓рпН роЪро╛роХрпБрокроЯро┐роХрпНроХрпБ роПро▒рпНро▒родрпБ. роирпАро░рпН роХро┐роЯрпИрокрпНрокрпБ рооро▒рпНро▒рпБроорпН ро╡роЯро┐роХро╛ро▓рпН роЕроорпИрокрпНрокрпБроХро│рпИ роХро░рпБродрпНродро┐ро▓рпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН.",
                analyzeBtn: "ЁЯФН рокропро┐ро░рпН рокро░ро┐роирпНродрпБро░рпИроХро│рпИрокрпН рокрпЖро▒рпБроЩрпНроХро│рпН",
                loadingText: "роорогрпН, ро╡ро╛ройро┐ро▓рпИ рооро▒рпНро▒рпБроорпН рокро░рпБро╡роХро╛ро▓ родро░ро╡рпБроХро│рпИ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНроХро┐ро▒родрпБ...",
                recTitle: "ЁЯМ╛ роЙроЩрпНроХро│рпН рокрогрпНрогрпИроХрпНроХрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ рокропро┐ро░рпНроХро│рпН"
            }
        };

        // Comprehensive Sri Lankan districts data
        const districts = [
            { name: 'Colombo District', province: 'Western Province', coords: '6.9271┬░ N, 79.8612┬░ E' },
            { name: 'Gampaha District', province: 'Western Province', coords: '7.0873┬░ N, 80.0143┬░ E' },
            { name: 'Kalutara District', province: 'Western Province', coords: '6.5854┬░ N, 80.0423┬░ E' },
            { name: 'Kandy District', province: 'Central Province', coords: '7.2906┬░ N, 80.6337┬░ E' },
            { name: 'Matale District', province: 'Central Province', coords: '7.4675┬░ N, 80.6234┬░ E' },
            { name: 'Nuwara Eliya District', province: 'Central Province', coords: '6.9497┬░ N, 80.7891┬░ E' },
            { name: 'Galle District', province: 'Southern Province', coords: '6.0329┬░ N, 80.2168┬░ E' },
            { name: 'Matara District', province: 'Southern Province', coords: '5.9549┬░ N, 80.5550┬░ E' },
            { name: 'Hambantota District', province: 'Southern Province', coords: '6.1241┬░ N, 81.1185┬░ E' },
            { name: 'Jaffna District', province: 'Northern Province', coords: '9.6615┬░ N, 80.0255┬░ E' },
            { name: 'Kilinochchi District', province: 'Northern Province', coords: '9.3964┬░ N, 80.4037┬░ E' },
            { name: 'Mannar District', province: 'Northern Province', coords: '8.9810┬░ N, 79.9045┬░ E' },
            { name: 'Vavuniya District', province: 'Northern Province', coords: '8.7514┬░ N, 80.4971┬░ E' },
            { name: 'Mullaitivu District', province: 'Northern Province', coords: '9.2670┬░ N, 80.8142┬░ E' },
            { name: 'Trincomalee District', province: 'Eastern Province', coords: '8.5874┬░ N, 81.2152┬░ E' },
            { name: 'Batticaloa District', province: 'Eastern Province', coords: '7.7102┬░ N, 81.6924┬░ E' },
            { name: 'Ampara District', province: 'Eastern Province', coords: '7.2971┬░ N, 81.6747┬░ E' },
            { name: 'Kurunegala District', province: 'North Western Province', coords: '7.4863┬░ N, 80.3647┬░ E' },
            { name: 'Puttalam District', province: 'North Western Province', coords: '8.0362┬░ N, 79.8283┬░ E' },
            { name: 'Anuradhapura District', province: 'North Central Province', coords: '8.3114┬░ N, 80.4037┬░ E' },
            { name: 'Polonnaruwa District', province: 'North Central Province', coords: '7.9403┬░ N, 81.0188┬░ E' },
            { name: 'Badulla District', province: 'Uva Province', coords: '6.9934┬░ N, 81.0550┬░ E' },
            { name: 'Moneragala District', province: 'Uva Province', coords: '6.8781┬░ N, 81.3506┬░ E' },
            { name: 'Ratnapura District', province: 'Sabaragamuwa Province', coords: '6.6828┬░ N, 80.3992┬░ E' },
            { name: 'Kegalle District', province: 'Sabaragamuwa Province', coords: '7.2513┬░ N, 80.3464┬░ E' }
        ];

        let currentLanguage = 'en';
        let isDropdownOpen = false;

        function setLanguage(lang) {
            currentLanguage = lang;
            
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const t = translations[lang];
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key.replace(/([A-Z])/g, '-$1').toLowerCase());
                if (element) {
                    element.textContent = t[key];
                }
            });
        }

        function initializeDistrictDropdown() {
            const dropdown = document.getElementById('district-dropdown');
            dropdown.innerHTML = '';
            
            districts.forEach(district => {
                const option = document.createElement('div');
                option.className = 'district-option';
                option.innerHTML = `
                    <div class="district-name">${district.name}</div>
                    <div class="district-province">${district.province}</div>
                `;
                option.onclick = () => selectDistrict(district);
                dropdown.appendChild(option);
            });
        }

        function toggleDistrictDropdown() {
            const dropdown = document.getElementById('district-dropdown');
            const input = document.getElementById('district-search');
            
            if (isDropdownOpen) {
                dropdown.style.display = 'none';
                input.setAttribute('readonly', 'true');
                isDropdownOpen = false;
            } else {
                dropdown.style.display = 'block';
                input.removeAttribute('readonly');
                input.focus();
                isDropdownOpen = true;
            }
        }

        function filterDistricts() {
            const searchTerm = document.getElementById('district-search').value.toLowerCase();
            const options = document.querySelectorAll('.district-option');
            
            options.forEach(option => {
                const districtName = option.querySelector('.district-name').textContent.toLowerCase();
                const provinceName = option.querySelector('.district-province').textContent.toLowerCase();
                
                if (districtName.includes(searchTerm) || provinceName.includes(searchTerm)) {
                    option.style.display = 'block';
                } else {
                    option.style.display = 'none';
                }
            });
        }

        function selectDistrict(district) {
            document.getElementById('district-search').value = district.name;
            document.getElementById('district').innerHTML = `<strong>${district.name}</strong><br><small style="color: #888;">${district.province}</small>`;
            document.getElementById('coordinates').textContent = district.coords;
            
            document.getElementById('district-dropdown').style.display = 'none';
            document.getElementById('district-search').setAttribute('readonly', 'true');
            isDropdownOpen = false;
            
            updateWeatherDataForDistrict(district);
        }

        function updateWeatherDataForDistrict(district) {
            let temp, humidity, rainfall, wind;
            const province = district.province || 'Western Province';
            
            switch(province) {
                case 'Central Province':
                    temp = Math.floor(Math.random() * 8) + 18;
                    humidity = Math.floor(Math.random() * 20) + 70;
                    rainfall = Math.floor(Math.random() * 25) + 5;
                    wind = Math.floor(Math.random() * 12) + 8;
                    break;
                case 'Northern Province':
                    temp = Math.floor(Math.random() * 12) + 28;
                    humidity = Math.floor(Math.random() * 25) + 45;
                    rainfall = Math.floor(Math.random() * 8) + 0;
                    wind = Math.floor(Math.random() * 18) + 12;
                    break;
                case 'Eastern Province':
                    temp = Math.floor(Math.random() * 8) + 26;
                    humidity = Math.floor(Math.random() * 25) + 65;
                    rainfall = Math.floor(Math.random() * 35) + 10;
                    wind = Math.floor(Math.random() * 15) + 10;
                    break;
                case 'Southern Province':
                    temp = Math.floor(Math.random() * 6) + 27;
                    humidity = Math.floor(Math.random() * 20) + 75;
                    rainfall = Math.floor(Math.random() * 20) + 8;
                    wind = Math.floor(Math.random() * 12) + 8;
                    break;
                case 'Western Province':
                    temp = Math.floor(Math.random() * 8) + 25;
                    humidity = Math.floor(Math.random() * 25) + 60;
                    rainfall = Math.floor(Math.random() * 18) + 2;
                    wind = Math.floor(Math.random() * 10) + 5;
                    break;
                default:
                    temp = Math.floor(Math.random() * 10) + 25;
                    humidity = Math.floor(Math.random() * 30) + 60;
                    rainfall = Math.floor(Math.random() * 15) + 0;
                    wind = Math.floor(Math.random() * 15) + 5;
                    break;
            }
            
            document.querySelector('.weather-grid .weather-item:nth-child(1) .weather-value').textContent = temp + '┬░C';
            document.querySelector('.weather-grid .weather-item:nth-child(2) .weather-value').textContent = humidity + '%';
            document.querySelector('.weather-grid .weather-item:nth-child(3) .weather-value').textContent = rainfall + 'mm';
            document.querySelector('.weather-grid .weather-item:nth-child(4) .weather-value').textContent = wind + 'km/h';
            
            updateRegionalTips(district);
        }

        function updateRegionalTips(district) {
            const province = district.province || 'Western Province';
            const tips = {
                'Central Province': {
                    tip1: 'Cool Climate Advisory: Temperature is ideal for temperate vegetables. Consider cabbage, carrots, and leeks.',
                    tip2: 'Hill Country Alert: Watch for sudden weather changes. Protect crops from strong winds.',
                    tip3: 'Tea Region Focus: Perfect conditions for tea cultivation. Maintain proper drainage in terraced fields.'
                },
                'Northern Province': {
                    tip1: 'Dry Zone Alert: Low humidity detected. Increase irrigation frequency and use mulching.',
                    tip2: 'Hot Weather Advisory: High temperatures expected. Provide shade for sensitive crops.',
                    tip3: 'Drought Preparation: Water conservation is crucial. Consider drought-resistant varieties.'
                },
                'Eastern Province': {
                    tip1: 'Monsoon Season: High rainfall expected. Ensure proper field drainage systems.',
                    tip2: 'Coastal Influence: Salt spray may affect crops. Use windbreaks near coastal areas.',
                    tip3: 'Wet Zone Farming: Perfect for rice cultivation. Plan water management systems.'
                },
                'Southern Province': {
                    tip1: 'Coastal Climate: High humidity ideal for spices. Consider cinnamon and pepper cultivation.',
                    tip2: 'Southwest Monsoon: Heavy rains expected. Protect young plants and ensure drainage.',
                    tip3: 'Tropical Conditions: Perfect for coconut and rubber. Maintain proper pest management.'
                },
                'Western Province': {
                    tip1: 'Urban Agriculture: Consider vertical farming and hydroponic systems for limited spaces.',
                    tip2: 'Moderate Climate: Excellent for year-round vegetable production. Plan succession planting.',
                    tip3: 'Market Access: Close to Colombo markets. Focus on high-value crops for better profits.'
                }
            };
            
            const provinceTips = tips[province] || tips['Western Province'];
            
            if (document.getElementById('tip1-content')) {
                document.getElementById('tip1-content').textContent = provinceTips.tip1;
                document.getElementById('tip2-content').textContent = provinceTips.tip2;
                document.getElementById('tip3-content').textContent = provinceTips.tip3;
            }

            updateProvinceSpecificCrops(district);
        }

        function updateProvinceSpecificCrops(district) {
            const province = district.province || 'Western Province';
            const provinceVegetables = {
                'Central Province': {
                    crops: [
                        { name: 'Carrot - р╢Ър╢╗р╢зр╖К', details: 'Exclusive to cool highlands (Nuwara Eliya). Temperate climate essential. High market value. Export quality achievable. Plant Sept-Nov for best results.', success: '95%', price: 'Rs. 180/kg', roi: '420%', specialty: 'Hill Country Exclusive' },
                        { name: 'Leeks - р╢╜р╖Ур╢Ър╖Кр╖Гр╖К', details: 'Grows only in Central highlands. Cool climate vegetable. High demand in Colombo hotels. Perfect for Nuwara Eliya district. 90-day growing period.', success: '92%', price: 'Rs. 320/kg', roi: '380%', specialty: 'Temperate Zone Only' },
                        { name: 'Cabbage - р╢Ьр╖Эр╖Ар╖П', details: 'Thrives in cool hill country. Major crop in Nuwara Eliya, Matale. Cool season variety. Head formation requires 15-20┬░C. Export potential.', success: '88%', price: 'Rs. 95/kg', roi: '290%', specialty: 'Hill Country Specialty' },
                        { name: 'Potato - р╢Ер╢╜', details: 'Hill country variety. Cool climate requirement. Good storage crop. Seed potato production. Inter-cropping with tea possible.', success: '90%', price: 'Rs. 130/kg', roi: '310%', specialty: 'Hill Country Tuber' },
                        { name: 'Beetroot - р╢╢р╖Ур╢зр╖Кр╢╗р╖Цр╢зр╖К', details: 'Temperate root vegetable. Cool climate essential. High nutritional value. Export quality achievable. Colorful variety.', success: '87%', price: 'Rs. 160/kg', roi: '340%', specialty: 'Cool Climate Root' },
                        { name: 'Tea - р╢нр╖Ъ', details: 'High-grown Ceylon tea. Premium quality. Ideal elevation. Export market established. Estate cultivation.', success: '97%', price: 'Rs. 450/kg', roi: '520%', specialty: 'Premium Ceylon Tea' }
                    ]
                },
                'Northern Province': {
                    crops: [
                        { name: 'Drumstick - р╢╕р╖Фр╢╗р╖Фр╢Вр╢Ьр╖П', details: 'Excellent for dry zones. Drought-tolerant tree vegetable. Thrives in hot climate. High nutritional value. All parts edible.', success: '90%', price: 'Rs. 150/kg', roi: '350%', specialty: 'Dry Zone Champion' },
                        { name: 'Winged Bean - р╢пр╢╕р╖Кр╢╢р╢╜', details: 'Heat-tolerant legume. Nitrogen-fixing properties. Drought-resistant. Grows well in sandy soils. All plant parts edible.', success: '85%', price: 'Rs. 280/kg', roi: '320%', specialty: 'Arid Climate Adapted' },
                        { name: 'Bitter Gourd - р╢Ър╢╗р╖Ар╖Тр╢╜', details: 'Heat-tolerant vine crop. Medicinal properties. Good for dry conditions. High market demand. Pest-resistant variety available.', success: '82%', price: 'Rs. 140/kg', roi: '270%', specialty: 'Drought Tolerant' },
                        { name: 'Red Onion - р╢╗р╢нр╖Ф р╢╜р╖Цр╢лр╖Ф', details: 'Heat-tolerant variety. Dry zone specialty. Good storage life. High demand in local markets. Drought-resistant bulb crop.', success: '88%', price: 'Rs. 200/kg', roi: '380%', specialty: 'Dry Zone Specialty' },
                        { name: 'Cowpea - р╢╕р╖Ъ р╢Ър╢╗р╢╜р╖К', details: 'Drought-tolerant legume. Heat-resistant variety. Nitrogen-fixing crop. Short growing period. High protein content.', success: '86%', price: 'Rs. 180/kg', roi: '290%', specialty: 'Heat Resistant Legume' },
                        { name: 'Sesame - р╢нр╢╜', details: 'Oil seed crop. Extremely drought-tolerant. Low water requirement. Traditional dry zone crop. Value-added processing.', success: '89%', price: 'Rs. 340/kg', roi: '480%', specialty: 'Drought Champion' }
                    ]
                }
            };

            const crops = provinceVegetables[province] || {
                crops: [
                    { name: 'Sweet Potato - р╢╢р╢зр╢╜', details: 'Perfect for red earth soil. Thrives in well-drained, slightly acidic conditions. High yield potential. Rich in nutrients. Good storage crop.', success: '94%', price: 'Rs. 95/kg', roi: '380%', specialty: 'Red Earth Champion' },
                    { name: 'Cassava - р╢╕р╢др╖Кр╢др╖Эр╢Ър╖Кр╢Ъ', details: 'Excellent for red lateritic soils. Drought-tolerant root crop. Grows in poor soils. Multiple uses - food and industrial. Low maintenance.', success: '92%', price: 'Rs. 65/kg', roi: '320%', specialty: 'Drought Resistant' },
                    { name: 'Ginger - р╢Йр╢Яр╖Фр╢╗р╖Ф', details: 'Thrives in well-drained red soil. High-value spice crop. Requires organic matter. Good for hillside cultivation. Export potential.', success: '89%', price: 'Rs. 450/kg', roi: '520%', specialty: 'High Value Spice' },
                    { name: 'Turmeric - р╢Ър╖Д', details: 'High-value spice crop. Medicinal properties. Grows well in red earth with organic matter. 9-month crop cycle. Strong export market demand.', success: '86%', price: 'Rs. 380/kg', roi: '410%', specialty: 'Medicinal Spice' },
                    { name: 'Black Pepper - р╢Ьр╢╕р╖Кр╢╕р╖Тр╢╗р╖Тр╖Гр╖К', details: 'Climbing vine spice. Requires support structures. High value export crop. Thrives in well-drained red soil with shade. Long-term investment.', success: '83%', price: 'Rs. 800/kg', roi: '650%', specialty: 'Premium Export' },
                    { name: 'Yam - р╢Ер╢╜', details: 'Traditional root vegetable. High carbohydrate content. Suitable for red lateritic soils. Good storage life. Cultural importance in Sri Lankan cuisine.', success: '91%', price: 'Rs. 120/kg', roi: '290%', specialty: 'Traditional Staple' }
                ]
            };

            updateCropDisplays(crops.crops);
        }

        function updateCropDisplays(crops) {
            for (let i = 1; i <= 6 && i <= crops.length; i++) {
                const crop = crops[i-1];
                const nameEl = document.getElementById(`crop${i}-name`);
                const detailsEl = document.getElementById(`crop${i}-details`);
                const successEl = document.getElementById(`crop${i}-success`);
                const priceEl = document.getElementById(`crop${i}-price`);
                
                if (nameEl && crop) {
                    nameEl.textContent = crop.name;
                    detailsEl.textContent = crop.details;
                    successEl.textContent = `${crop.success} Success Rate`;
                    priceEl.innerHTML = `ЁЯТ░ Current Price: ${crop.price} | Expected ROI: ${crop.roi}<br><span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ ${crop.specialty}</span>`;
                }
            }
        }

        function updateSoilSpecificCrops() {
            const soilType = document.getElementById('soil-type').value;
            
            const soilVegetables = {
                'red-earth': {
                    info: { title: 'ЁЯПФя╕П Red Earth Soil Characteristics:', description: 'Well-drained, iron-rich soil. pH: 5.5-6.5 (slightly acidic). Good for root vegetables, tea, rubber. Requires organic matter addition. Excellent drainage properties.' },
                    crops: [
                        { name: 'Sweet Potato - р╢╢р╢зр╢╜', details: 'Perfect for red earth soil. Thrives in well-drained, slightly acidic conditions. High yield potential. Rich in nutrients. Good storage crop.', success: '94%', price: 'Rs. 95/kg', roi: '380%', specialty: 'Red Earth Champion' },
                        { name: 'Cassava - р╢╕р╢др╖Кр╢др╖Эр╢Ър╖Кр╢Ъ', details: 'Excellent for red lateritic soils. Drought-tolerant root crop. Grows in poor soils. Multiple uses - food and industrial. Low maintenance.', success: '92%', price: 'Rs. 65/kg', roi: '320%', specialty: 'Drought Resistant' },
                        { name: 'Ginger - р╢Йр╢Яр╖Фр╢╗р╖Ф', details: 'Thrives in well-drained red soil. High-value spice crop. Requires organic matter. Good for hillside cultivation. Export potential.', success: '89%', price: 'Rs. 450/kg', roi: '520%', specialty: 'High Value Spice' },
                        { name: 'Turmeric - р╢Ър╖Д', details: 'High-value spice crop. Medicinal properties. Grows well in red earth with organic matter. 9-month crop cycle. Strong export market demand.', success: '86%', price: 'Rs. 380/kg', roi: '410%', specialty: 'Medicinal Spice' },
                        { name: 'Black Pepper - р╢Ьр╢╕р╖Кр╢╕р╖Тр╢╗р╖Тр╖Гр╖К', details: 'Climbing vine spice. Requires support structures. High value export crop. Thrives in well-drained red soil with shade. Long-term investment.', success: '83%', price: 'Rs. 800/kg', roi: '650%', specialty: 'Premium Export' },
                        { name: 'Yam - р╢Ер╢╜', details: 'Traditional root vegetable. High carbohydrate content. Suitable for red lateritic soils. Good storage life. Cultural importance in Sri Lankan cuisine.', success: '91%', price: 'Rs. 120/kg', roi: '290%', specialty: 'Traditional Staple' }
                    ]
                },
                'alluvial': {
                    info: { title: 'ЁЯПЮя╕П Alluvial Soil Characteristics:', description: 'Fertile river deposited soil. pH: 6.0-7.5 (neutral). Rich in nutrients. Excellent water retention. Perfect for cereals and vegetables. High organic content.' },
                    crops: [
                        { name: 'Rice - р╖Ар╖У', details: 'Ideal crop for alluvial plains. Rich, fertile soil perfect for paddy cultivation. High yield potential. Traditional irrigation suitable.', success: '97%', price: 'Rs. 85/kg', roi: '420%', specialty: 'Alluvial Specialist' },
                        { name: 'Sugarcane - р╢Лр╢Ър╖К', details: 'Perfect for fertile alluvial soils. High sugar content achievable. Long-growing crop. Multiple harvests. Industrial processing available.', success: '93%', price: 'Rs. 45/kg', roi: '380%', specialty: 'Industrial Crop' },
                        { name: 'Banana - р╢Ър╖Щр╖Гр╖Щр╢╜р╖К', details: 'Excellent in nutrient-rich alluvial soil. High productivity. Continuous harvest. Multiple varieties. Good market demand.', success: '91%', price: 'Rs. 80/kg', roi: '350%', specialty: 'High Productivity' },
                        { name: 'Corn - р╢Йр╢╗р╖Тр╢Яр╖Ф', details: 'Thrives in fertile alluvial conditions. High yield grain crop. Multiple uses - food and feed. Good rotation crop.', success: '88%', price: 'Rs. 90/kg', roi: '310%', specialty: 'Versatile Grain' },
                        { name: 'Papaya - р╢┤р╖Ьр╢╜р╖Кр╢┤р╢╜р╖К', details: 'Fast-growing fruit tree. Continuous production. Rich alluvial soil ideal. High vitamin content. Good market prices.', success: '85%', price: 'Rs. 60/kg', roi: '280%', specialty: 'Quick Returns' },
                        { name: 'Water Spinach - р╢Ър╢▒р╖Кр╢Ър╖Фр╢▒р╖К', details: 'Perfect for wet alluvial areas. Fast-growing leafy vegetable. Multiple harvests. High nutritional value.', success: '96%', price: 'Rs. 80/kg', roi: '450%', specialty: 'Wetland Specialist' }
                    ]
                },
                'laterite': {
                    info: { title: 'ЁЯз▒ Laterite Soil Characteristics:', description: 'Iron and aluminum rich. pH: 5.0-6.0 (acidic). Poor nutrient retention. Good drainage. Requires heavy fertilization. Suitable for tree crops.' },
                    crops: [
                        { name: 'Cashew - р╢Ър╖Пр╢вр╖Ф', details: 'Excellent for laterite soils. Drought-tolerant tree crop. Low nutrient requirements. High-value nuts. Export market available.', success: '90%', price: 'Rs. 1200/kg', roi: '580%', specialty: 'Laterite Adapted' },
                        { name: 'Coconut - р╢┤р╖Ьр╢╜р╖К', details: 'Traditional laterite soil crop. Deep root system. Salt tolerant. Multiple products. Long-term investment crop.', success: '88%', price: 'Rs. 50/nut', roi: '450%', specialty: 'Tree Crop' },
                        { name: 'Tapioca - р╢╕р╢нр╖Кр╢нр╖Ьр╢Ър╖Кр╢Ъ', details: 'Thrives in poor laterite soil. Extremely hardy crop. Tolerates low fertility. Food security crop. Industrial uses available.', success: '95%', price: 'Rs. 60/kg', roi: '280%', specialty: 'Hardy Survivor' },
                        { name: 'Rubber - р╢╗р╢╢р╢╗р╖К', details: 'Traditional plantation crop for laterite. Latex production. Sustainable farming. Carbon sequestration benefits.', success: '92%', price: 'Rs. 280/kg', roi: '450%', specialty: 'Industrial Tree Crop' },
                        { name: 'Pineapple - р╢Ер╢▒р╖Кр╢▒р╖Пр╖Гр╖Т', details: 'Acidic soil loving fruit. Tolerates poor laterite conditions. High value fruit. Processing industry established.', success: '87%', price: 'Rs. 80/kg', roi: '320%', specialty: 'Acidic Soil Specialist' },
                        { name: 'Mango - р╢Ер╢╣', details: 'Deep-rooted tree fruit. Suitable for laterite with amendments. Long-term investment. High market value.', success: '84%', price: 'Rs. 150/kg', roi: '380%', specialty: 'Premium Fruit' }
                    ]
                }
            };

            const selectedSoil = soilVegetables[soilType] || soilVegetables['red-earth'];
            
            document.getElementById('soil-info').innerHTML = `
                <div style="font-weight: bold; color: #795548; margin-bottom: 5px;">${selectedSoil.info.title}</div>
                <div style="font-size: 13px; color: #555; line-height: 1.4;">${selectedSoil.info.description}</div>
            `;

            updateCropDisplays(selectedSoil.crops);
        }

        function analyzeCrops() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('recommendations').style.display = 'none';
            document.getElementById('nav-tabs').style.display = 'none';
            
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('recommendations').style.display = 'block';
                document.getElementById('nav-tabs').style.display = 'flex';
                
                showSection('recommendations');
                
                document.getElementById('recommendations').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            }, 3000);
        }

        function showSection(sectionName) {
            document.getElementById('recommendations').style.display = 'none';
            document.getElementById('calendar-section').style.display = 'none';
            document.getElementById('market-section').style.display = 'none';
            document.getElementById('tips-section').style.display = 'none';
            
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            switch(sectionName) {
                case 'recommendations':
                    document.getElementById('recommendations').style.display = 'block';
                    document.getElementById('tab-crops').classList.add('active');
                    break;
                case 'calendar':
                    document.getElementById('calendar-section').style.display = 'block';
                    document.getElementById('tab-calendar').classList.add('active');
                    break;
                case 'market':
                    document.getElementById('market-section').style.display = 'block';
                    document.getElementById('tab-market').classList.add('active');
                    break;
                case 'tips':
                    document.getElementById('tips-section').style.display = 'block';
                    document.getElementById('tab-tips').classList.add('active');
                    break;
            }
        }

        function refreshPrices() {
            const priceElements = document.querySelectorAll('.price-card');
            priceElements.forEach(card => {
                card.style.opacity = '0.5';
            });
            
            setTimeout(() => {
                document.getElementById('last-updated').textContent = 'Last Updated: Just now';
                priceElements.forEach(card => {
                    card.style.opacity = '1';
                });
            }, 1000);
        }

        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('district-dropdown');
            const input = document.getElementById('district-search');
            const selector = document.querySelector('.district-selector');
            
            if (!selector.contains(event.target) && isDropdownOpen) {
                dropdown.style.display = 'none';
                input.setAttribute('readonly', 'true');
                isDropdownOpen = false;
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            initializeDistrictDropdown();
            
            const defaultDistrict = districts[0];
            selectDistrict(defaultDistrict);
            
            updateSoilSpecificCrops();
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrowSense - Smart Crop Recommendations for Sri Lankan Farmers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: none;
            margin: 0;
            padding: 20px;
            background: white;
            min-height: 100vh;
            box-shadow: none;
            position: relative;
        }

        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
            border-bottom: 2px solid #4CAF50;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: #2E7D32;
            margin-bottom: 5px;
        }

        .tagline {
            font-size: 14px;
            color: #666;
        }

        .language-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .lang-btn {
            padding: 8px 16px;
            border: 2px solid #4CAF50;
            background: white;
            color: #4CAF50;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lang-btn.active {
            background: #4CAF50;
            color: white;
        }

        .section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }

        .section h3 {
            color: #2E7D32;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .location-info {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #e8f5e8;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .district-selector {
            position: relative;
            margin-left: auto;
            z-index: 100;
        }

        .district-input {
            padding: 8px 35px 8px 12px;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            font-size: 14px;
            min-width: 200px;
            cursor: pointer;
            background: white;
        }

        .district-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }

        .dropdown-arrow {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #4CAF50;
            font-weight: bold;
        }

        .district-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #4CAF50;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1001;
            display: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .district-option {
            padding: 10px 12px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }

        .district-option:hover {
            background: #e8f5e8;
        }

        .district-option:last-child {
            border-bottom: none;
        }

        .district-name {
            font-weight: bold;
            color: #2E7D32;
        }

        .district-province {
            font-size: 12px;
            color: #666;
            margin-top: 2px;
        }

        .weather-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .weather-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }

        .weather-value {
            font-size: 24px;
            font-weight: bold;
            color: #2E7D32;
        }

        .weather-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .season-indicator {
            text-align: center;
            padding: 15px;
            background: linear-gradient(45deg, #FF9800, #FF5722);
            color: white;
            border-radius: 10px;
            font-weight: bold;
        }

        .soil-selector {
            margin-bottom: 15px;
        }

        select, input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-top: 5px;
        }

        select:focus, input[type="number"]:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .analyze-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #4CAF50, #2E7D32);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .recommendations {
            display: none;
        }

        .crops-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .crop-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border-left: 5px solid #4CAF50;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .crop-name {
            font-size: 20px;
            font-weight: bold;
            color: #2E7D32;
            margin-bottom: 10px;
        }

        .crop-details {
            color: #666;
            line-height: 1.6;
        }

        .success-rate {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
        }

        .crop-price {
            margin-top: 10px;
            color: #2E7D32;
            font-weight: bold;
        }

        .alert {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .loading {
            text-align: center;
            padding: 30px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        .nav-tabs {
            display: flex;
            justify-content: space-around;
            background: white;
            padding: 10px;
            border-radius: 25px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }

        .tab-btn {
            flex: 1;
            padding: 10px 5px;
            border: none;
            background: transparent;
            color: #666;
            font-size: 12px;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: #4CAF50;
            color: white;
            transform: translateY(-2px);
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .tip-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 6px solid;
            position: relative;
            z-index: 1;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
        
        <div class="header">
            <div class="logo">GrowSense</div>
            <div class="tagline" id="tagline">Smart Crop Recommendations for Sri Lankan Farmers</div>
        </div>

        <div class="language-selector">
            <button class="lang-btn active" onclick="setLanguage('en')">English</button>
            <button class="lang-btn" onclick="setLanguage('si')">р╖Гр╖Тр╢Вр╖Др╢╜</button>
            <button class="lang-btn" onclick="setLanguage('ta')">родрооро┐ро┤рпН</button>
        </div>

        <div class="dashboard-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            
        <div class="section">
            <h3 id="location-title">ЁЯУН Your Location</h3>
            <div class="location-info">
                <span>ЁЯМН</span>
                <div>
                    <div id="district"><strong>Colombo District</strong><br><small style="color: #888;">Western Province</small></div>
                    <small id="coordinates">6.9271┬░ N, 79.8612┬░ E</small>
                </div>
                <div class="district-selector">
                    <input type="text" 
                           class="district-input" 
                           id="district-search" 
                           placeholder="Select District"
                           readonly
                           onclick="toggleDistrictDropdown()"
                           onkeyup="filterDistricts()"
                    />
                    <span class="dropdown-arrow">тЦ╝</span>
                    <div class="district-dropdown" id="district-dropdown"></div>
                </div>
            </div>
            <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px; font-size: 12px; color: #2E7D32;">
                <strong>ЁЯУК Regional Data:</strong> Weather patterns and crop recommendations are customized for your specific district and province.
            </div>
        </div>

        <div class="section">
            <h3 id="soil-title">ЁЯМ▒ Soil Information</h3>
            <div class="soil-selector">
                <label for="soil-type" id="soil-label">Soil Type:</label>
                <select id="soil-type" onchange="updateSoilSpecificCrops()">
                    <option value="red-earth">Red Earth (р╢╗р╢нр╖Ф р╢┤р╖Гр╖К)</option>
                    <option value="alluvial">Alluvial Soil (р╢Ьр╢Вр╢Ьр╖П р╢┤р╖Гр╖К)</option>
                    <option value="laterite">Laterite Soil (р╢╜р╖Рр╢зр╢╗р╢║р╖Тр╢зр╖К)</option>
                    <option value="regosol">Regosol (р╢╗р╖Ър╢Ьр╖Ьр╖Гр╖Ьр╢╜р╖К)</option>
                    <option value="peat">Peat Soil (р╢┤р╖Фр╢зр╖К р╢┤р╖Гр╖К)</option>
                    <option value="coastal-sand">Coastal Sand (р╖Ар╖Щр╢╗р╖Ер╢╢р╢й р╖Ар╖Пр╢╜р╖Т)</option>
                    <option value="black-cotton">Black Cotton Soil (р╢Ър╖Ер╖Ф р╢Ър╢┤р╖К р╢┤р╖Гр╖К)</option>
                </select>
            </div>
            <div>
                <label for="farm-size" id="farm-size-label">Farm Size (acres):</label>
                <input type="number" id="farm-size" value="2.5" min="0.1" step="0.1">
            </div>
            <div id="soil-info" style="margin-top: 15px; padding: 12px; background: #f0f4f8; border-radius: 8px; border-left: 4px solid #795548;">
                <div style="font-weight: bold; color: #795548; margin-bottom: 5px;">ЁЯПФя╕П Red Earth Soil Characteristics:</div>
                <div style="font-size: 13px; color: #555; line-height: 1.4;">
                    Well-drained, iron-rich soil. pH: 5.5-6.5 (slightly acidic). Good for root vegetables, tea, rubber. Requires organic matter addition. Excellent drainage properties.
                </div>
            </div>
        </div>
        
        </div>

        <div class="section">
            <h3 id="weather-title">ЁЯМдя╕П Current Weather Conditions</h3>
            <div class="weather-grid">
                <div class="weather-item">
                    <div class="weather-value">28┬░C</div>
                    <div class="weather-label" id="temp-label">Temperature</div>
                </div>
                <div class="weather-item">
                    <div class="weather-value">75%</div>
                    <div class="weather-label" id="humidity-label">Humidity</div>
                </div>
                <div class="weather-item">
                    <div class="weather-value">5mm</div>
                    <div class="weather-label" id="rainfall-label">Expected Rainfall</div>
                </div>
                <div class="weather-item">
                    <div class="weather-value">12km/h</div>
                    <div class="weather-label" id="wind-label">Wind Speed</div>
                </div>
            </div>
            <div class="season-indicator">
                <span id="season-text">ЁЯМ╛ Maha Season (October - March)</span>
            </div>
        </div>

        <div class="alert">
            <strong id="alert-title">ЁЯТб Smart Recommendations:</strong>
            <span id="alert-text">Get customized crop suggestions based on your province's climate AND your specific soil type. Change location or soil type to see different recommendations!</span>
        </div>

        <button class="analyze-btn" onclick="analyzeCrops()" id="analyze-btn">
            ЁЯФН Get Crop Recommendations
        </button>

        <div id="nav-tabs" class="nav-tabs" style="display: none;">
            <button class="tab-btn active" onclick="showSection('recommendations')" id="tab-crops">ЁЯМ╛ Crops</button>
            <button class="tab-btn" onclick="showSection('calendar')" id="tab-calendar">ЁЯУЕ Calendar</button>
            <button class="tab-btn" onclick="showSection('market')" id="tab-market">ЁЯУК Prices</button>
            <button class="tab-btn" onclick="showSection('tips')" id="tab-tips">ЁЯТб Tips</button>
        </div>

        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <div id="loading-text">Analyzing soil, weather, and seasonal data...</div>
        </div>

        <div id="recommendations" class="recommendations section">
            <h3 id="rec-title">ЁЯМ╛ Smart Crop Recommendations</h3>
            <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #4CAF50;">
                <strong>ЁЯОп Intelligent Matching:</strong> These recommendations combine your province's climate conditions with your specific soil type for optimal results. Switch between location-based and soil-based suggestions using the controls above!
            </div>
            
            <div class="crops-grid">
                <div class="crop-card">
                    <div class="crop-name" id="crop1-name">Sweet Potato - р╢╢р╢зр╢╜</div>
                    <div class="crop-details" id="crop1-details">
                        Perfect for red earth soil. Thrives in well-drained, slightly acidic conditions. High yield potential. Rich in nutrients. Good storage crop.
                    </div>
                    <div class="success-rate" id="crop1-success">94% Success Rate</div>
                    <div class="crop-price" id="crop1-price">
                        ЁЯТ░ Current Price: Rs. 95/kg | Expected ROI: 380%<br>
                        <span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ Red Earth Champion</span>
                    </div>
                </div>

                <div class="crop-card">
                    <div class="crop-name" id="crop2-name">Cassava - р╢╕р╢др╖Кр╢др╖Эр╢Ър╖Кр╢Ъ</div>
                    <div class="crop-details" id="crop2-details">
                        Excellent for red lateritic soils. Drought-tolerant root crop. Grows in poor soils. Multiple uses - food and industrial. Low maintenance.
                    </div>
                    <div class="success-rate" id="crop2-success">92% Success Rate</div>
                    <div class="crop-price" id="crop2-price">
                        ЁЯТ░ Current Price: Rs. 65/kg | Expected ROI: 320%<br>
                        <span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ Drought Resistant</span>
                    </div>
                </div>

                <div class="crop-card">
                    <div class="crop-name" id="crop3-name">Ginger - р╢Йр╢Яр╖Фр╢╗р╖Ф</div>
                    <div class="crop-details" id="crop3-details">
                        Thrives in well-drained red soil. High-value spice crop. Requires organic matter. Good for hillside cultivation. Export potential.
                    </div>
                    <div class="success-rate" id="crop3-success">89% Success Rate</div>
                    <div class="crop-price" id="crop3-price">
                        ЁЯТ░ Current Price: Rs. 450/kg | Expected ROI: 520%<br>
                        <span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ High Value Spice</span>
                    </div>
                </div>

                <div class="crop-card">
                    <div class="crop-name" id="crop4-name">Turmeric - р╢Ър╖Д</div>
                    <div class="crop-details" id="crop4-details">
                        High-value spice crop. Medicinal properties. Grows well in red earth with organic matter. 9-month crop cycle. Strong export market demand.
                    </div>
                    <div class="success-rate" id="crop4-success">86% Success Rate</div>
                    <div class="crop-price" id="crop4-price">
                        ЁЯТ░ Current Price: Rs. 380/kg | Expected ROI: 410%<br>
                        <span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ Medicinal Spice</span>
                    </div>
                </div>

                <div class="crop-card">
                    <div class="crop-name" id="crop5-name">Black Pepper - р╢Ьр╢╕р╖Кр╢╕р╖Тр╢╗р╖Тр╖Гр╖К</div>
                    <div class="crop-details" id="crop5-details">
                        Climbing vine spice. Requires support structures. High value export crop. Thrives in well-drained red soil with shade. Long-term investment.
                    </div>
                    <div class="success-rate" id="crop5-success">83% Success Rate</div>
                    <div class="crop-price" id="crop5-price">
                        ЁЯТ░ Current Price: Rs. 800/kg | Expected ROI: 650%<br>
                        <span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ Premium Export</span>
                    </div>
                </div>

                <div class="crop-card">
                    <div class="crop-name" id="crop6-name">Yam - р╢Ер╢╜</div>
                    <div class="crop-details" id="crop6-details">
                        Traditional root vegetable. High carbohydrate content. Suitable for red lateritic soils. Good storage life. Cultural importance in Sri Lankan cuisine.
                    </div>
                    <div class="success-rate" id="crop6-success">91% Success Rate</div>
                    <div class="crop-price" id="crop6-price">
                        ЁЯТ░ Current Price: Rs. 120/kg | Expected ROI: 290%<br>
                        <span style="color: #8B4513; font-size: 12px; font-weight: normal;">ЁЯМ╛ Traditional Staple</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div id="calendar-section" class="section" style="display: none;">
            <h3 id="calendar-title">ЁЯУЕ Planting Calendar</h3>
            <div class="calendar-container" style="display: grid; grid-template-columns: 1fr 2fr; gap: 20px;">
                <div class="calendar-grid" style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                    <div class="calendar-item" style="background: #e8f5e8; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 24px; font-weight: bold; color: #2E7D32;">Current</div>
                        <div style="font-size: 16px; color: #666;">Maha Season</div>
                        <div style="font-size: 14px; margin-top: 5px;">Oct - Mar</div>
                    </div>
                    <div class="calendar-item" style="background: #fff3e0; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 24px; font-weight: bold; color: #FF9800;">Next</div>
                        <div style="font-size: 16px; color: #666;">Yala Season</div>
                        <div style="font-size: 14px; margin-top: 5px;">Apr - Sep</div>
                    </div>
                </div>
                
                <div class="timeline" style="background: white; padding: 20px; border-radius: 15px;">
                    <h4 style="color: #2E7D32; margin-bottom: 15px;" id="planting-schedule">ЁЯМ▒ Optimal Planting Schedule</h4>
                    <div class="timeline-item" style="border-left: 3px solid #4CAF50; padding-left: 15px; margin-bottom: 15px;">
                        <div style="font-weight: bold; color: #2E7D32; font-size: 16px;">Rice (Paddy)</div>
                        <div style="font-size: 14px; color: #666;">Plant: Oct 15 - Nov 30 | Harvest: Feb 15 - Apr 15</div>
                    </div>
                    <div class="timeline-item" style="border-left: 3px solid #FF9800; padding-left: 15px; margin-bottom: 15px;">
                        <div style="font-weight: bold; color: #FF9800; font-size: 16px;">Green Gram</div>
                        <div style="font-size: 14px; color: #666;">Plant: Nov 1 - Dec 15 | Harvest: Jan 15 - Feb 28</div>
                    </div>
                    <div class="timeline-item" style="border-left: 3px solid #2196F3; padding-left: 15px;">
                        <div style="font-weight: bold; color: #2196F3; font-size: 16px;">Tomatoes</div>
                        <div style="font-size: 14px; color: #666;">Plant: Oct 1 - Nov 15 | Harvest: Dec 15 - Feb 15</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Section -->
        <div id="market-section" class="section" style="display: none;">
            <h3 id="market-title">ЁЯУК Live Market Prices</h3>
            <div class="market-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <span style="font-size: 16px; color: #666;" id="last-updated">Last Updated: 2 hours ago</span>
                <button onclick="refreshPrices()" style="padding: 10px 20px; border: none; background: #4CAF50; color: white; border-radius: 8px; cursor: pointer; font-size: 14px;">ЁЯФД Refresh</button>
            </div>
            
            <div class="price-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="price-card" style="background: white; padding: 20px; border-radius: 15px; border-left: 6px solid #4CAF50; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: bold; color: #2E7D32; font-size: 18px;">Rice (White - Nadu)</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Colombo Wholesale Market</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 28px; font-weight: bold; color: #2E7D32;">Rs. 85</div>
                            <div style="font-size: 14px; color: #4CAF50; font-weight: bold;">тЖЧ +3.2%</div>
                        </div>
                    </div>
                </div>
                
                <div class="price-card" style="background: white; padding: 20px; border-radius: 15px; border-left: 6px solid #FF9800; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: bold; color: #E65100; font-size: 18px;">Green Gram</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Manning Market</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 28px; font-weight: bold; color: #E65100;">Rs. 220</div>
                            <div style="font-size: 14px; color: #F44336; font-weight: bold;">тЖШ -1.8%</div>
                        </div>
                    </div>
                </div>
                
                <div class="price-card" style="background: white; padding: 20px; border-radius: 15px; border-left: 6px solid #2196F3; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: bold; color: #1565C0; font-size: 18px;">Tomatoes (Local)</div>
                            <div style="font-size: 14px; color: #666; margin-top: 5px;">Dambulla Economic Centre</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 28px; font-weight: bold; color: #1565C0;">Rs. 120</div>
                            <div style="font-size: 14px; color: #4CAF50; font-weight: bold;">тЖЧ +5.1%</div>
                        </div>
                    </div>
                </div>

                <div class="price-card" style="background: white; padding: 20px; border-radius: 15px; border-left: 6px solid #9C27B0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">